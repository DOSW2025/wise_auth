
generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}


datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
}

enum RolEnum {
  estudiante
  tutor
  admin
}

enum EstadoUsuario {
  activo
  inactivo
  suspendido
}


model Usuario {
  id                    String         @id @default(uuid())

  email                 String         @unique
  nombre                String
  apellido              String
  telefono              String?
  semestre              Int            @default(1)

  google_id             String?        @unique @map("google_id")
  avatar_url            String?        @map("avatar_url")

  rol                   RolEnum        @default(estudiante)
  estado                EstadoUsuario  @default(activo)

  email_verificado      Boolean        @default(false) @map("email_verificado")

  ultimo_login          DateTime?      @map("ultimo_login")

  createdAt             DateTime       @default(now()) @map("created_at")
  updatedAt             DateTime       @updatedAt @map("updated_at")

  @@map("usuarios")
  @@index([email])
  @@index([estado])
}
